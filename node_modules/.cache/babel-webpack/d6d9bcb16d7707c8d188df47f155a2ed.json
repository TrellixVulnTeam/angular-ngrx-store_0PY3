{"ast":null,"code":"import { InfoActions } from \"../../store/info.actions\";\nimport { InfoSelectors } from \"../../store/info.selectors\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ngrx/store\";\nimport * as i2 from \"@angular/common\";\nexport class StatisticsComponent {\n  constructor(store$) {\n    this.store$ = store$;\n    this.isLoadStatistics$ = this.store$.select(InfoSelectors.isLoadStatistics);\n  }\n\n  loadStatistics() {\n    if (this.isLoadStatistics$) {\n      setTimeout(() => {\n        this.store$.dispatch(InfoActions.setStatistics({\n          statistics: Math.round(Math.random() * 100000)\n        }));\n        this.loadStatistics();\n      }, 500);\n    }\n  }\n\n}\n\nStatisticsComponent.ɵfac = function StatisticsComponent_Factory(t) {\n  return new (t || StatisticsComponent)(i0.ɵɵdirectiveInject(i1.Store));\n};\n\nStatisticsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: StatisticsComponent,\n  selectors: [[\"app-statistics\"]],\n  decls: 6,\n  vars: 6,\n  consts: [[\"type\", \"button\", 3, \"disabled\", \"hidden\", \"click\"]],\n  template: function StatisticsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h3\");\n      i0.ɵɵtext(1, \"Component Statistics\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"button\", 0);\n      i0.ɵɵlistener(\"click\", function StatisticsComponent_Template_button_click_2_listener() {\n        return ctx.loadStatistics();\n      });\n      i0.ɵɵpipe(3, \"async\");\n      i0.ɵɵpipe(4, \"async\");\n      i0.ɵɵtext(5, \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0436\\u0430\\u0442\\u044C \\u0441\\u0442\\u0430\\u0442\\u0438\\u0441\\u0442\\u0438\\u043A\\u0443\");\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"disabled\", !i0.ɵɵpipeBind1(3, 2, ctx.isLoadStatistics$))(\"hidden\", i0.ɵɵpipeBind1(4, 4, ctx.isLoadStatistics$));\n    }\n  },\n  pipes: [i2.AsyncPipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzdGF0aXN0aWNzLmNvbXBvbmVudC5jc3MifQ== */\"]\n});","map":{"version":3,"sources":["/Users/sergeybodin/Developer/web/test/angular-ngrx-store/src/app/components/statistics/statistics.component.ts","/Users/sergeybodin/Developer/web/test/angular-ngrx-store/src/app/components/statistics/statistics.component.html"],"names":[],"mappings":"AAEA,SAAQ,WAAR,QAA0B,0BAA1B;AACA,SAAQ,aAAR,QAA4B,4BAA5B;;;;AAOA,OAAM,MAAO,mBAAP,CAA0B;AAI9B,EAAA,WAAA,CACU,MADV,EACuB;AAAb,SAAA,MAAA,GAAA,MAAA;AAER,SAAK,iBAAL,GAAyB,KAAK,MAAL,CAAY,MAAZ,CAAmB,aAAa,CAAC,gBAAjC,CAAzB;AACD;;AAED,EAAA,cAAc,GAAA;AACZ,QAAI,KAAK,iBAAT,EAA4B;AAC1B,MAAA,UAAU,CAAC,MAAK;AACd,aAAK,MAAL,CAAY,QAAZ,CAAqB,WAAW,CAAC,aAAZ,CAA0B;AAAC,UAAA,UAAU,EAAE,IAAI,CAAC,KAAL,CAAW,IAAI,CAAC,MAAL,KAAc,MAAzB;AAAb,SAA1B,CAArB;AACA,aAAK,cAAL;AACD,OAHS,EAGP,GAHO,CAAV;AAID;AACF;;AAjB6B;;;mBAAnB,mB,EAAmB,EAAA,CAAA,iBAAA,CAAA,EAAA,CAAA,KAAA,C;AAAA,C;;;QAAnB,mB;AAAmB,EAAA,SAAA,EAAA,CAAA,CAAA,gBAAA,CAAA,C;AAAA,EAAA,KAAA,EAAA,C;AAAA,EAAA,IAAA,EAAA,C;AAAA,EAAA,MAAA,EAAA,CAAA,CAAA,MAAA,EAAA,QAAA,EAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,CAAA,C;AAAA,EAAA,QAAA,EAAA,SAAA,4BAAA,CAAA,EAAA,EAAA,GAAA,EAAA;AAAA,QAAA,EAAA,GAAA,CAAA,EAAA;ACVhC,MAAA,EAAA,CAAA,cAAA,CAAA,CAAA,EAAA,IAAA;AAAI,MAAA,EAAA,CAAA,MAAA,CAAA,CAAA,EAAA,sBAAA;AAAoB,MAAA,EAAA,CAAA,YAAA;AACxB,MAAA,EAAA,CAAA,cAAA,CAAA,CAAA,EAAA,QAAA,EAAA,CAAA;AAAsB,MAAA,EAAA,CAAA,UAAA,CAAA,OAAA,EAAA,SAAA,oDAAA,GAAA;AAAA,eAAS,GAAA,CAAA,cAAA,EAAT;AAAyB,OAAzB;;;AAA4G,MAAA,EAAA,CAAA,MAAA,CAAA,CAAA,EAAA,qHAAA;AAAoB,MAAA,EAAA,CAAA,YAAA;;;;AAArG,MAAA,EAAA,CAAA,SAAA,CAAA,CAAA;AAAA,MAAA,EAAA,CAAA,UAAA,CAAA,UAAA,EAAA,CAAA,EAAA,CAAA,WAAA,CAAA,CAAA,EAAA,CAAA,EAAA,GAAA,CAAA,iBAAA,CAAA,EAAyC,QAAzC,EAAyC,EAAA,CAAA,WAAA,CAAA,CAAA,EAAA,CAAA,EAAA,GAAA,CAAA,iBAAA,CAAzC","sourcesContent":["import {Component} from '@angular/core';\nimport {Store} from \"@ngrx/store\";\nimport {InfoActions} from \"../../store/info.actions\";\nimport {InfoSelectors} from \"../../store/info.selectors\";\n\n@Component({\n  selector: 'app-statistics',\n  templateUrl: './statistics.component.html',\n  styleUrls: ['./statistics.component.css']\n})\nexport class StatisticsComponent {\n\n  isLoadStatistics$: any;\n\n  constructor(\n    private store$: Store\n  ) {\n    this.isLoadStatistics$ = this.store$.select(InfoSelectors.isLoadStatistics);\n  }\n\n  loadStatistics(): void {\n    if (this.isLoadStatistics$) {\n      setTimeout(() => {\n        this.store$.dispatch(InfoActions.setStatistics({statistics: Math.round(Math.random()*100000)}));\n        this.loadStatistics();\n      }, 500);\n    }\n  }\n}\n","<h3>Component Statistics</h3>\n<button type=\"button\" (click)=\"loadStatistics()\" [disabled]=\"!(isLoadStatistics$ | async)\" [hidden]=\"(isLoadStatistics$ | async)\">Загружать статистику</button>\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}